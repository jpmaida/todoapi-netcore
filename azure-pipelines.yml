# Starter pipeline

trigger:
- master

pool:
  vmImage: 'ubuntu-latest'

steps:
- task: CmdLine@2
  inputs:
    script: |
      pwd
      ls -l
- task: oc-cmd@2
  displayName: 'Build OCP'
  inputs:
    connectionType: 'OpenShift Connection Service'
    openshiftService: 'openshift-3.11-opentlc'
    version: 'v3.11.0'
    cmd: oc get bc -n netcore-s2i-poc
- task: OcConditionalCmd@2
  inputs:
    connectionType: 'OpenShift Connection Service'
    openshiftService: 'openshift-3.11-opentlc'
    version: 'v3.11.0'
    cmd: 'oc get buildconfigs -n netcore-s2i-poc'
    condition: 'exists'
    resource: 'buildconfigs/todo-api'
